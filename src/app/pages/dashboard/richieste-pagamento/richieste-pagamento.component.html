<div #resizeDiv class="table-container">
  @if (richiestePagamento) {
    <div style="margin: auto;">
  <p-table
    [value]="richiestePagamento.risultati"
    styleClass="p-datatable-striped"
    [paginator]="true"
    [rows]="10"
    [rowsPerPageOptions]="[5, 10, 20]"
    [paginatorPosition]="'top'"
    paginatorStyleClass="width: 75%"
  >
    <ng-template pTemplate="header">
      <!-- Header Statico -->
      <tr>
        <th>Stato</th>
        <th>IUV <br><p-columnFilter type="text" field="pendenza.numeroAvviso" display="menu" /></th>
        <th>Dettagli Stato <br> <p-columnFilter type="text" field="dettaglioStato" display="menu" /></th>
        <!-- <th>ID Richiesta <br><p-columnFilter type="text" field="pendenza.idA2A" display="menu" /></th>
        <th>ID Pendenza <br><p-columnFilter type="text" field="pendenza.idPendenza" display="menu" /></th> -->
        <th>Tipo <br><p-columnFilter type="text" field="pendenza.tipoPendenza.descrizione"display="menu"  /></th>
        <th>Ente Creditore <br><p-columnFilter type="text" field="pendenza.dominio.ragioneSociale" display="menu" /></th>
        <th>Importo (€) <br><p-columnFilter type="text" field="pendenza.importo"  display="menu"/></th>
        <th>Scadenza  <br><p-columnFilter type="date" field="pendenza.dataScadenza"  display="menu"/></th>
        <th>Anomalo <br><p-columnFilter type="boolean" field="pendenza.anomalo" display="menu" /></th>
        <!-- <th>Nome <br><p-columnFilter type="text" field="pendenza.nome"  display="menu"/></th> -->
        <th>Causale <br><p-columnFilter type="text" field="pendenza.causale" display="menu" /></th>
        <th>Pagatore<br> <p-columnFilter type="text" field="pendenza.soggettoPagatore.anagrafica" display="menu" /></th>
        <th>Azioni</th>
      </tr>
      
      <!-- Riga dedicata al paginatore -->
    </ng-template>

    <!-- Corpo della Tabella -->
    <ng-template pTemplate="body" let-richiesta>
      <tr>
        <td>{{ richiesta.stato }}</td>
        <td>{{ richiesta.pendenza.numeroAvviso }}</td>
        <td>{{ richiesta.dettaglioStato }}</td>
        <!-- <td>{{ richiesta.pendenza.idA2A }}</td>
        <td>{{ richiesta.pendenza.idPendenza }}</td> -->
        <td>{{ richiesta.pendenza.tipoPendenza.descrizione }}</td>
        <td>{{ richiesta.pendenza.dominio.ragioneSociale }}</td>
        <td>{{ richiesta.pendenza.importo }}</td>
        <td>{{ richiesta.pendenza.dataScadenza | date : "yyyy-MM-dd" }}</td>
        <td>{{ richiesta.pendenza.anomalo ? "Sì" : "No" }}</td>
        <!-- <td>{{ richiesta.pendenza.nome }}</td> -->
        <td>{{ richiesta.pendenza.causale }}</td>
        <td>{{ richiesta.pendenza.soggettoPagatore.anagrafica }}</td>
        <td style="display: flex;"> <button class="action-button bg-blue" (click)="emettiNotifica( richiesta.pendenza.numeroAvviso)">    <i class="pi pi-bell" style="font-size: 1rem"></i>    <span class="tooltip">Notifica di pagamento</span>  </button> <button class="action-button bg-green" (click)="emettiFile( richiesta.pendenza.numeroAvviso)">    <i class="pi pi-file-excel" style="font-size: 1rem"></i>    <span class="tooltip">File FR</span>  </button></td>
      </tr>
    </ng-template>
  </p-table>
</div>
  }@else {
  <!-- messaggio di errore -->
  }
</div>
