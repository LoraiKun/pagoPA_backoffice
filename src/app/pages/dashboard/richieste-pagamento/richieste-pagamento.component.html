<div #resizeDiv class="table-container">
  @if (richiestePagamento) {
    <div style="margin: auto;">
  <p-table
    [value]="richiestePagamento"
    styleClass="p-datatable-striped"
    [paginator]="true"
    [rows]="10"
    [rowsPerPageOptions]="[5, 10, 20]"
    [paginatorPosition]="'top'"
    paginatorStyleClass="width: 75%"
  >
    <ng-template pTemplate="header">
      <!-- Header Statico -->
        <tr>
          <th>Ente Creditore <p-columnFilter type="date" field="pendenza.dominio.regioneSociale"  display="menu"/></th>
          <th>Data  <p-columnFilter type="date" field="pendenza.dataCaricamento"  display="menu"/></th>
          <th>Tipo <p-columnFilter type="text" field="pendenza.tipoPendenza.tipo" display="menu" /></th>
          <th>causale</th>
          <th>IUV <p-columnFilter type="text" field="pendenza.numeroAvviso" display="menu" /></th>
          <th>Stato</th>
          <th>Azioni</th>
        </tr>
      
      <!-- Riga dedicata al paginatore -->
    </ng-template>

    <!-- Corpo della Tabella -->
    <ng-template pTemplate="body" let-richiesta>
      <tr>
        <td>{{ richiesta.pendenza.dominio.ragioneSociale }}</td>
        <td>{{ richiesta.pendenza.dataCaricamento | date : "yyyy-MM-dd" }}</td>
        <td>{{ richiesta.pendenza.tipoPendenza.tipo }}</td>
        <td>{{ richiesta.pendenza.causale }}</td>
        <td>{{ richiesta.pendenza.numeroAvviso }}</td>
        <td>{{ richiesta.pendenza.stato }}</td>
        <td style="display: flex;"> <button class="action-button bg-blue" (click)="emettiNotifica( richiesta.pendenza.numeroAvviso)">    <i class="pi pi-bell" style="font-size: 1rem"></i>    <span class="tooltip">Notifica di pagamento</span>  </button> <button class="action-button bg-green" (click)="emettiFile( richiesta.pendenza.numeroAvviso)">    <i class="pi pi-file-excel" style="font-size: 1rem"></i>    <span class="tooltip">File FR</span>  </button></td>
      </tr>
    </ng-template>
  </p-table>
</div>
  }@else {
  <!-- messaggio di errore -->
  }
</div>
